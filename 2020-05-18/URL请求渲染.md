# URL请求渲染

| order | operation            |
| ----- | -------------------- |
| 1     | 向服务器发起数据请求 |
| 2     | 根据文档进行页面渲染 |

## 发起请求

![在这里插入图片描述](../.imgs/req)

- 通过``IPC``，将请求转发到网络进程
- 查找缓存，判断是否存在，有就直接使用
- 查询``DNS``缓存，或者进行``DNS``解析，确定访问服务地址
- 进入``TCP``连接队列；单域名的``TCP``连接数量存在限制
- 发送``HTTP``请求(method、url、cookie、params...)
  - ``HTTPS``还需要前置完成握手
- 接收到请求，整理数据，断开连接
  - 断开的是``HTTP``连接，如果存在同域名复用情况，``TCP``连接并不会马上关闭

## 页面渲染

![在这里插入图片描述](../.imgs/render)

- 网络进程数据接收完毕，将数据发完浏览器渲染进程，等待渲染
- 文件解析
  - ``DOM``解析：解析``HTML``，构建``DOM``
  - 样式计算：解析``CSS``，输出``OSSOM``
  - 页面布局：结合``DOM``和``OSSOM``，构建渲染树
- 画面渲染：XXXX
- 页面展示
  - 页面内容呈现
  - 相关地址栏变更

## 整体流程

![在这里插入图片描述](../.imgs/url_render)