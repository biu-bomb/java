![6](../.imgs/B+.jpg)

# B和B+

|      | B                  | B+                         |
| ---- | ------------------ | -------------------------- |
| 分支 | 两个分支，元素枚举 | 多个分支，元素区间         |
| 顺序 | 左小右大           | 左小右大                   |
| 数据 | 节点自带数据       | 节点路由，全部数据位于叶子 |
| 树高 | 取决于数据量多少   | 数据量和阶决定树高         |

# 优缺对比

|              | B                                                         | B+                                                           |
| ------------ | --------------------------------------------------------- | ------------------------------------------------------------ |
| 单数据查找   | 找到直接返回                                              | 必须遍历到叶子节点<br />映射到数据区间取出数据               |
| 前(后)向查找 | 每次独立查找                                              | 根据指针直接移动                                             |
| 范围查找     | 每次独立查找                                              | 根据指针直接移动                                             |
| 索引管理     | 索引与数据一体，不可分离                                  | 索引管理独立数据管理(增删除外)                               |
| 数据管理     | 索引与数据一体，不可分离                                  | 数据管理独立索引管理(增删除外)                               |
| 路由次数     | 分支固定为2<br />路由次数取决于树高<br />取决于元素的数量 | 路由次数同样取决于树高<br />但是由于阶数的压缩，能够压缩树高，降低路由次数 |

# MYSQL

|          | B                                                            | B+                                                           |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ``IO``   | 索引+数据，单节点数据量大<br />加载全部索引就是加载全部数据<br />``IO``操作量大 | 索引和数据独立<br />单索引节点数据少，单页可存储更多索引<br />更少``IO``操作 |
| 数据加载 | 索引与数据同体<br />加载全部索引即加载全部数据               | 纯索引，检索之后加载分段数据                                 |
| 查询速度 | 取决于数据所在树深度<br />越深的数据查询速度越慢<br />每次查询都是独立查询 | 增大阶可压缩树高<br />查询效率提升<br />全部数据都位于叶子节点，查询速度相同<br />前向或者后向、范围查找指针移位，查询效率高 |

