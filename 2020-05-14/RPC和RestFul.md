# RPC和Restful

|      | RPC            | RestFul                            |
| ---- | -------------- | ---------------------------------- |
| 协议 | ``TCP``传输层  | ``http``应用层                     |
| 状态 | 有状态         | 无状态                             |
| 连接 | 常连接         | 短连接                             |
| 规范 | 自定义         | ``post/get/put/delete/patch/head`` |
| 格式 | ``byte``自定义 | ``http``                           |

# 对比

|      | RPC                                                    | RestFul                                                      |
| ---- | ------------------------------------------------------ | ------------------------------------------------------------ |
| 传输 | 大批量集中传输，速度快<br />少量请求，维护连接浪费资源 | 短连接，使用时连接<br />频繁访问同一个域名，``keep-alive``复用底层连接 |
| 规范 | 自定义，无统一规范                                     | ``post/get/put/delete/patch/delete``                         |
| 连接 | 长连接，直接传输，维护有难度                           | 短连接，直接``http``访问，简单                               |
| 协议 | 需要自己实现序列化传输和数据格式，维护底层连接         | 直接使用``http``，定义内容字段即可                           |
| 负载 | 直连，无法软件层面负载均衡                             | 可以路由和转发不同机器                                       |

